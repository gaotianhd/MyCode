<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <!-- <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" /> -->
  <!-- <link href="http://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="css/bootstrap.min.css" media="screen" title="no title" charset="utf-8">

  <!-- <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script> -->
  <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- <script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  <!-- <script src="https://unpkg.com/masonry-layout@4.1/dist/masonry.pkgd.min.js"></script> -->
  <style media="screen">
  </style>
</head>
<body>
  <button type="" name="button" class="btn1">点击</button>
  <div class="container" id="poster">
    <div class="review">
      <div class="hreview thumbnail yinying">
        <img src="images/images.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-1.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-2.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-3.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-4.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-5.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-6.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-7.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-8.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-9.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-10.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-11.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-12.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-13.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-14.jpg" alt="" />
      </div>
      <div class="hreview thumbnail yinying">
        <img src="images/poster-15.jpg" alt="" />
      </div>
    </div>
  </div>
  <script type="text/javascript">
  $(function(){

    $('div.hreview').addClass('col-md-3');
    $('div.hreview').addClass('col-sm-4');
    $('div.hreview').addClass('col-xs-6');
    $('img').addClass('img-responsive');
    $('div.row div.col-md-3').addClass('thumbnail');
    var array = new Array();

    array[0]="images/images.jpg";
    array[1]="images/poster-1.jpg";
    array[2]="images/poster-2.jpg";
    array[3]="images/poster-3.jpg";
    array[4]="images/poster-4.jpg";
    array[5]="images/poster-5.jpg";
    array[6]="images/poster-6.jpg";
    array[7]="images/poster-7.jpg";
    array[8]="images/poster-8.jpg";
    array[9]="images/poster-9.jpg";
    array[10]="images/poster-10.jpg";
    array[11]="images/poster-11.jpg";
    array[12]="images/poster-12.jpg";
    array[13]="images/poster-13.jpg";
    array[14]="images/poster-14.jpg";
    array[15]="images/poster-15.jpg";

    // console.log(array);
    function list(){
        for(var i = 0;i<array.length;i++){
          var div = $("<div></div>")
          var img = $("<img>");

          img.attr("src",array[i]);
          div.addClass("hreview thumbnail yinying col-md-3 col-sm-4 col-xs-6");
          img.addClass("img-responsive");
          div.css("top","0");
          div.append(img);
          $(".review").append(div).masonry("appended",div);
        }
        for(var i =0;i<$(".hreview").length;i++){
          $(".hreview").eq(i).css("top",topArray[i]+"px");
        }
      }
      var topArray = new Array();
      setTimeout(function(){

        for(var i =0;i<$(".hreview").length;i++){
          var top = $(".hreview").eq(i).offset().top;
          topArray.push(top);
        }

        $(".btn1").click(function(){
          $(".review").children().remove();
          var newArray = new Array();
          while (true) {

            var num = Math.floor(Math.random()*16);
            if(newArray.indexOf(array[num]) == -1){
              if(array[num] != undefined){
                var s = newArray.push(array[num]);
                array.splice(num,1);
              }
            }
            if(array.length == 0){
              array = newArray;
              break;
            }
          }
        list();
        });
      },500);
  });
    window.onload = function(){
      $('div.review').masonry({
        itemSelector: '.hreview'
      });
    };
  </script>
  <script type="text/javascript" src="js/masonry.pkgd.min.js"></script>
</body>
</html>
